# Rates 'R Us

[Live link to website](https://rates-r-us-f1ee65907d50.herokuapp.com/)

**Rates 'R Us** is a movie review website by Moby Viesca, a famous movie critic. There are movie posts, and Moby's top movies have their own little section on the first page, with Moby's motivation. Each movie has its own page with more information and, if applicable, Moby's review. As a user, you can register, and rate and review the movies as well! Your rating counts. You can see all your reviews on the **My reviews** page.

![Screenshot webpages on different devices](docs/screenshots/amiresponsive.png)
Generated by [Am I Responsive](https://ui.dev/amiresponsive).

## Index
- [Planning](#planning)
- [Features](#features)
- [Testing](#testing)
- [Technologies used](#technologies-used)
- [Deployment and development](#deployment-and-development)
- [Credits](#credits)

## Planning

### Site goals

The website aims to offer users:
- insight into movies and Moby Viesca's take on them,
- a way to rate and review movies and contribute to the overall rating.

### User stories

See [project board](https://github.com/users/LizzyonGit/projects/5/views/1) for the agile methodology followed during this project and the end result. Implemented features in the **Done** column, future features and unfixed bugs in the **Won't do** column.

#### As a site admin, I can:

- create, read, update and delete movie posts so that I can manage my website,
- create a draft so that I can control when and if posts will be published on the website,
- pick out several movies to be highlighted on the website so that I can make my website more personal,
- write a motivation for my chosen top movies in admin so that I can make the website more personal,
- prevent reviews from displaying so that I have control over which reviews appear on my website.

#### As a site user, I can

- view a paginated list of movie posts so that I can quickly find the movie I want to view,
- search movies on title, director or cast member so that I can find what I'm looking for,
- open a movie post so that I can read the whole post,
- register an account so that I can rate movies and add reviews,
- review a movie so that I can share my opinion,
- rate movies so that I can contribute to the overall rating of the movie,
- edit or delete my review so that I have control on my contribution to the website,
- edit or delete my rating so that I have control on my contribution to the website.

### Design
#### Database

Below is my initial database schema. I used [Lucidchart](https://lucid.app/lucidchart/2079b9e7-4f65-4200-8337-c7328cfd5e1e/edit?invitationId=inv_4a4f8b69-07b0-4019-82a4-0720dfb4bfd0) to create it.

<details>
    <summary>Database schema</summary>This schema includes some features I did not implement, and it misses some features that I did implement. I did not implement the **Likes** model and related field in the **Review** model. The **Top pick** functionality called for a check box and field in the **Movie** model. The *average rating* is not in the database, but implemented as a model method.

  ![Database schema](docs/erd-start.png)

</details>

#### Wireframes

Below are my initial wireframes for mobile and laptop screen sizes. I used [Figma](https://www.figma.com/) to create them.

<details>
    <summary>Home, movie_detail, Register, Log in and My reviews</summary>These are my first wireframes. The final design does not differ much from the wireframes, but I did not implement a star rating, filter (but I created a search field instead), and in My reviews I did not add a filter or editing or deleting possibilities. Log out, 404 were planned to look like Register and Log in, so that is why there are no wireframes of them.

  ![Home, movie_detail, Register, Log in, My reviews wireframes for mobile](docs/wireframes/mobile-wireframes.png)

</details>
<details>
    <summary>Home page and movie_detail</summary>I only saw the home page and movie_detail page with all the movie poster to be different on larger screen sizes, so I only created wireframes for these pages for tablet/desktop sizes. I changed from rows with two movies to rows with three movies, as movie posters are not wide so this fits better. Then I just moved the poster to the right in the movie_detail page, and the description takes a wider space under the image and short movie facts.

  ![Home page and movie_detail for desktop](docs/wireframes/desktop-wireframes.png)

</details>


#### Colour schemes

For my colour scheme, I want to convey a home theatre feeling so I took my inspiration from articles about which colours would be good when you build a theatre room. Red chairs came to mind, and otherwise dark colours for walls. And some yellow details to mimic the small spotlights on the wall. I read articles https://www.happypaintingcompany.com/blog/the-top-5-best-home-theater-paint-colors/ and https://www.peliplat.com/en/article/10002576/why-are-movie-theater-seats-mostly-red and landed on the following palette:
black, navy, red, yellow.

This is my palette: https://coolors.co/ffea00-000080-8b0000-000000.

#### Fonts

I looked for a cinema feeling in my fonts and after some googleing I decided on *Limelight* for my larger font sizes and logo, and *Merriweather* for the smaller ones. *Limelight* is connected to theatre and filmmaking as per its description in [Google Fonts](https://fonts.google.com/specimen/Limelight/about), and *Merriweather* was suggested in this blog post: https://wpmudev.com/blog/more-google-font-combinations-for-you-to-use/.

#### Logos and images

The logo is the website name written in font *Limelight*.

The favicon is an image of the **R** in the logo. To create the favicon files, I used [RealFaviconGenerator](https://realfavicongenerator.net/).

All movie posters come from [TMDB](https://www.themoviedb.org/), collected via API, converted to a smaller size (via Microsoft Photos) and webP format (via [tinify](https://tinypng.com)), and manually uploaded in admin to Cloudinary. 

I made the placeholder movie poster in Microsoft Paint.

#### Content

Movie descriptions from https://aifreebox.com/list/ai-movie-description-generator.
Other movie facts from Wikipedia or IMDB.
Moby's reviews and user reviews are my own.

## Features 

### Existing features

- __Navbar__

  - The navbar holds the logo, menu links depending on the login state of the user, search field and button. 

  ![Navbar logged in user](docs/features/navbar-loggedin.png)
  ![Navbar logged out user](docs/features/navbar-loggedout.png)

  ![Navbar compressed](docs/features/navbar-mobile.png)

  Project file: templates/base.html

- __Home page__

   - __My top pics__

     - Max 3 top picks from admin, with poster, movie title and motivation text by Moby Viesca. The whole card serves as a link to the movie_detail page.

     ![Top pics](docs/features/top-pics.png)

   - __All movies__

     - All published movies are listed under **All movies**. Each movie card has a movie poster, the title, rating with review count (if there is), release date, country and genres. The whole card serves as a link to the movie_detail page. 
  
     - The **All movies** are paginated and display max 3 per page. Under the movies is the button **PREV** if there is a previous page, and **NEXT** if there is a next page.
   
     ![All movies and pagination](docs/features/all-movies.png)

     ![Mobile lay-out movie lists](docs/features/all-movies-mobile.png)

     Project file: movie/templates/movie/index.html

     Project file movie list: movie/templates/movie/my_list.html

- __Footer__

  - The footer has the text *By famous movie critic Moby Viesca*, and links to Facebook, X and Instagram.

  ![Footer](docs/features/footer.png)
 
  Project file: templates/base.html

- __Movie_detail__

   - Each movie has its own page with more information. It has the movie poster, title, rating and review count, release date, country, genres, cast and director(s).
   - Under it there is a movie description. 
   - If there is a motivation text in admin, there is a **Moby's review** section with this text.

   ![Movie information](docs/features/movie-detail.png)
   ![Movie information mobile lay-out](docs/features/movie-detail-mobile.png)

    - __Have your say!__
   
      - Starts with an icon with review count.
      - For logged-out users, there is only a text urging the user to register or log in to be able to add a review.
      
      ![Have your say logged out user](docs/features/review-form-loggedout.png)

      - For logged-in users, there is a form where you can give the movie a rating from 0 to 5 and write a title and text review. Only the rating is mandatory to submit the form.
 
      ![Have your say logged in user](docs/features/review-form-loggedin.png)
    
    - __Reviews__

      - Lists all approved reviews with newest first, with username, creation date and time of the review, title and text (if applicable) and the rating. 
      - If a logged-in user has left a review, there are the buttons **Delete** and **Edit**.
      - If a logged-in user has left a review that is not approved, the whole review is in italic style and there is a yellow text *This review is awaiting approval* above the buttons.

      ![Reviews](docs/features/reviews.png)

      - After clicking **Edit**, you move to the review form where the fields are populated with your review, the **Submit** button changes to **Update**.

      ![Update review form](docs/features/review-update.png)

      - After clicking **Delete**, the Bootstrap **Delete review?** modal pops up where you can confirm deleting the review or close the modal and not delete the review.

      ![Delete review modal](docs/features/delete-modal.png)
    
    Project file: movie/templates/movie/movie_detail.html

- __Search results__

   - The **Search results** page lists the movies the same way as in the **All movies** section, this is reused code. You can click the movie card to go to its movie_detail page. 
   
   - When there are no results, there is a text. I added this to urge the user to only search for one word or on one actor or director, because of the known bug that word sequences should be written exactly as they appear to find a movie title, and that two actor or director names do not result in any found movies.
   
   ![Search results with result](docs/features/search-result.png)
   ![Search results no result](docs/features/search-noresult.png)

   Project file: movie/templates/movie/search_results.html

   Project file movie list: movie/templates/movie/my_list.html

- __My reviews__

   - The **My reviews** page is available when a user is logged in. When a user has left reviews, they are listed with the newest first on this page. There is no difference between approved and not-approved reviews. The reviewed movie title links to the movie's detailed page, directly to the associated review down on that page. 
   
   - If the user has not left any reviews yet, there is just a text. 
   
   ![My reviews with reviews](docs/features/my-reviews.png)
   ![My reviews with no reviews](docs/features/my-reviews-empty.png)

    Project file: movie/templates/movie/my_reviews.html

- __Register__

   - The **Register** page is available when a user is not logged in. There is a form and button to register, and you log in right away after doing so.
   
   ![Register](docs/features/register.png)

    Project file: templates/accounts/signup.html

- __Log in__

   - The **Log in** page is available when a user is not logged in. There is a form and button to log in.
   
   ![Log in](docs/features/login.png)

    Project file: templates/accounts/login.html

- __Log out__

   - The **Log out** page is available when a user is logged in. There is a text and button to log out.
   
   ![Log out](docs/features/logout.png)

   Project file: templates/accounts/logout.html

- __Feedback messages__

   - Messages appear after you register or log in, log out, and when you delete, edit and add a rating or review, or when you try to submit a second review. You can close them by clicking the cross.
   
   ![Message example](docs/features/message.png)
   ![Message example small screen](docs/features/message-mobile.png)


- __The 404 page__

  - The 404.html page consists of a text and button to link to the (first) home page.
  
  ![404 not found](docs/features/404.png)

  Project file: movie/templates/404.html

### Features left to implement

- Change the **Rating** field in the review form to five empty stars where you can select a number of stars, and convert it to a rating from 0 to 5.
- For the **My reviews** page, add the edit/delete functionality and distinguish between approved/not-approved reviews, add pagination.
- Add filter in **All movies** to select on genre etc.
- The possibility for users to like a review.
- **About** page about Moby Viesca.
- The possibility for users to suggest movies to Mobie Viesca.
- Add instructions in admin to the superuser. For example, the character limit on some fields, and which properties an uploaded movie poster image should have to display well on the website.

## Testing 

See [TESTING.md](TESTING.md).

## Technologies used

### Languages

- HTML
- CSS
- Python
- JavaScript

### Frameworks - libraries - programs used

- [Django](https://www.djangoproject.com/) version 4.2.20
  - Including *django-allauth*, *django-countries*, *django-crispy-forms*, and *django-summernote*.
  - With installed whitenoise and gunicorn.
- [Bootstrap](https://getbootstrap.com/) version 5.3
- [Lucidchart](https://lucid.co/) for database planning
- [Figma](https://www.figma.com/) for wireframes
- [VS Code](https://code.visualstudio.com/) as IDE
- [GitHub](https://github.com/) for version control
- [Heroku](https://www.heroku.com/) for hosting
- [Cloudinary](https://cloudinary.com/) for image hosting
- [Google Fonts](https://fonts.google.com/) for my font pair
- Windows Paint for creating placeholder movie poster and favicon
- Windows Photos for adjusting images
- Windows snipping tool for the favicon
- [TinyPNG](https://tinypng.com/) for compressing image size and converting to .webp
- [RealFaviconGenerator](https://realfavicongenerator.net/) for creating favicon icons and the HTML code, and checking the favicon
- DevTools for verifying responsibility and troubleshooting code
- [Responsinator](http://www.responsinator.com/) for checking responsiveness
- [Am I Responsive](https://ui.dev/amiresponsive) for an image displaying the website on different screens
- [Autoprefixer](https://autoprefixer.github.io/) for adding the necessary prefixes to my CSS stylesheet

## Deployment and development

### Deployment
The site was deployed to Heroku. The steps to deploy are:

1. Go to your Heroku dashboard and create a new app.
2. In the **Deploy** tab of your new app, under **Deployment method**, click **GitHub**. 
3. Under **Connect to GitHub**, in the field next to your username on Github, type the repository name (*LizzyonGit/rates_r_us*) of the project and click **Search**. 
4. The corresponding repository name appears below, click the **Connect** button.
5. In **Settings**, under **Config Vars**, add a value for keys *SECRET_KEY*, *DATABASE_URL* and *CLOUDINARY_URL*.
6. Scroll down to **Manual deploy**, select the main branch to deploy and click **Deploy Branch**.
7. At the top of the page, click **Open app** to open the site.

### Local development
To fork the repository:
  - In the GitHub repository, click the **Fork** button in the top right corner.

To clone the repository:
  1. In the GitHub repository, click the **Code** button.
  2. In the **Local** tab, select if you want to clone with HTTPS, SSH, or GitHub CLI, and copy the link below it.
  3. Open the terminal in your code editor and change the current working directory to the location you want to clone this repository to.
  4. Type *git clone* and paste the link from step 2, and press Enter.

Set up your IDE
  1. Set up a virtual environment.
  2. Install the packages from the requirements.txt file.
  3. Create variables for *SECRET_KEY*, *DATABASE_URL* and *CLOUDINARY_URL*.
  4. Apply migrations.
  5. Collect static files.
  6. Run the development server.

## Credits 

### Content 

- Movie descriptions from https://aifreebox.com/list/ai-movie-description-generator. Other movie facts from Wikipedia or IMDB.

### Media

- Movie posters from https://www.themoviedb.org/.

### Resources

__Planning__
- For a font pairing idea, [this article](https://wpmudev.com/blog/more-google-font-combinations-for-you-to-use/).
- To decide on which colours to use, I have researched several websites:
  - https://www.happypaintingcompany.com/blog/the-top-5-best-home-theater-paint-colors/
  - https://www.peliplat.com/en/article/10002576/why-are-movie-theater-seats-mostly-red
- For getting a colour scheme, [Coolors.co](https://coolors.co).

__During development and testing__
- Inspiration and code bits from CI walkthrough project *I think therefore I blog*.
- [Bootstrap documentation](https://getbootstrap.com/docs/5.3/getting-started/introduction/).
- [Django documentation](https://docs.djangoproject.com/)
- Forums for specific questions:
  - [Django forum](https://forum.djangoproject.com/)
  - [Stackoverflow](https://stackoverflow.com/)
  - [Reddit](https://www.reddit.com/)
  - CI Slack community.
- Informative sources for reading up on concepts:
  - [W3schools](https://www.w3schools.com/)
  - [MDN Web Docs](https://developer.mozilla.org/en-US/).
- [Piko Can Fly](https://www.youtube.com/@PikoCanFly) tutorials for using the TMDB API.
- *Requests* library for collecting images via API.
- [Search functionality tutorial](https://learndjango.com/tutorials/django-search-tutorial).

__Project finalisation__ 
- [Grammarly](https://www.grammarly.com/grammar-check) spellchecker.
- [Diffchecker](https://www.diffchecker.com/text-compare/) for checking Autoprefixer changes.
- Other students' readme files for how they report deployment processes.

### Acknowledgments
- My mentor Jubril for the feedback.
